(()=>{"use strict";var e={20(e,t,n){var a=n(609),o=Symbol.for("react.element"),l=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),r=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,n){var a,c={},s=null,d=null;for(a in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,a)&&!i.hasOwnProperty(a)&&(c[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===c[a]&&(c[a]=t[a]);return{$$typeof:o,type:e,key:s,ref:d,props:c,_owner:r.current}}},609(e){e.exports=window.React},848(e,t,n){e.exports=n(20)}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,n),l.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const a=window.wp.blocks,o=window.wp.i18n,l=window.wp.primitives;var r=n(848);const i=(0,r.jsx)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,r.jsx)(l.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"})});var c=n(609);const s=window.wp.element,d=window.wp.apiFetch;var u=n.n(d);const g=window.wp.blockEditor,m=window.wp.components,p=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"ace/ai-content-generator","version":"1.0.0","title":"AI Content Generator","category":"text","icon":"brain","description":"Generate AI-powered content directly in your editor","keywords":["ai","content","generate","gpt","openai"],"textdomain":"ai-content-engine","attributes":{"topic":{"type":"string","default":""},"keywords":{"type":"string","default":""},"length":{"type":"string","default":"medium","enum":["short","medium","long"]},"tone":{"type":"string","default":"professional","enum":["professional","conversational","authoritative","friendly","academic"]},"includeTables":{"type":"boolean","default":false},"includeCharts":{"type":"boolean","default":false},"generatedContent":{"type":"string","default":""},"generatedTitle":{"type":"string","default":""},"isGenerating":{"type":"boolean","default":false}},"supports":{"html":false,"anchor":true},"editorScript":"file:./index.js","editorStyle":"file:./editor.css","style":"file:./style.css"}');(0,a.registerBlockType)(p.name,{...p,icon:i,edit:function({attributes:e,setAttributes:t}){const{topic:n,keywords:a,length:l,tone:r,includeTables:d,includeCharts:p,generatedContent:_,generatedTitle:h}=e,[f,v]=(0,s.useState)(!1),[w,y]=(0,s.useState)(null),[b,E]=(0,s.useState)([]),[C,T]=(0,s.useState)(""),S=(0,g.useBlockProps)();(0,s.useEffect)(()=>{u()({path:"/wp-json/ace/v1/templates"}).then(e=>{e.success&&e.templates&&E(e.templates)}).catch(e=>{console.error("Failed to load templates:",e)})},[]);const k=async()=>{if(n.trim()){v(!0),y(null);try{const e=await u()({path:"/ace/v1/generate",method:"POST",data:{topic:n,keywords:a.split(",").map(e=>e.trim()).filter(Boolean),length:l,tone:r,include_tables:d,include_charts:p}});if(!e.success||!e.data)throw new Error(e.message||(0,o.__)("Generation failed","ai-content-engine"));t({generatedContent:e.data.content_html||"",generatedTitle:e.data.title||""})}catch(e){y(e.message||(0,o.__)("An error occurred","ai-content-engine"))}finally{v(!1)}}else y((0,o.__)("Please enter a topic","ai-content-engine"))};return(0,c.createElement)(c.Fragment,null,(0,c.createElement)(g.InspectorControls,null,(0,c.createElement)(m.PanelBody,{title:(0,o.__)("Content Settings","ai-content-engine")},(0,c.createElement)(m.SelectControl,{label:(0,o.__)("Article Length","ai-content-engine"),value:l,options:[{label:(0,o.__)("Short (800-1200 words)","ai-content-engine"),value:"short"},{label:(0,o.__)("Medium (1200-1800 words)","ai-content-engine"),value:"medium"},{label:(0,o.__)("Long (1800-2500+ words)","ai-content-engine"),value:"long"}],onChange:e=>t({length:e})}),(0,c.createElement)(m.SelectControl,{label:(0,o.__)("Writing Tone","ai-content-engine"),value:r,options:[{label:(0,o.__)("Professional","ai-content-engine"),value:"professional"},{label:(0,o.__)("Conversational","ai-content-engine"),value:"conversational"},{label:(0,o.__)("Authoritative","ai-content-engine"),value:"authoritative"},{label:(0,o.__)("Friendly","ai-content-engine"),value:"friendly"},{label:(0,o.__)("Academic","ai-content-engine"),value:"academic"}],onChange:e=>t({tone:e})}),(0,c.createElement)(m.ToggleControl,{label:(0,o.__)("Include Data Tables","ai-content-engine"),checked:d,onChange:e=>t({includeTables:e})}),(0,c.createElement)(m.ToggleControl,{label:(0,o.__)("Include Charts","ai-content-engine"),checked:p,onChange:e=>t({includeCharts:e})}))),(0,c.createElement)("div",{...S},_?(0,c.createElement)("div",{className:"ace-generated-content"},(0,c.createElement)("div",{className:"ace-content-header"},(0,c.createElement)("h3",null,(0,o.__)("Generated Content","ai-content-engine")),(0,c.createElement)("div",{className:"ace-content-actions"},(0,c.createElement)(m.Button,{variant:"secondary",onClick:()=>{t({generatedContent:"",generatedTitle:""}),y(null)},disabled:f},(0,o.__)("Clear","ai-content-engine")),(0,c.createElement)(m.Button,{variant:"primary",onClick:k,disabled:f},(0,o.__)("Regenerate","ai-content-engine")))),h&&(0,c.createElement)("div",{className:"ace-generated-title"},(0,c.createElement)("strong",null,(0,o.__)("Suggested Title:","ai-content-engine"))," ",h),(0,c.createElement)("div",{className:"ace-content-preview",dangerouslySetInnerHTML:{__html:_}}),(0,c.createElement)(m.Notice,{status:"info",isDismissible:!1},(0,o.__)("This content will be inserted when you save the block. You can edit it further in the editor.","ai-content-engine"))):(0,c.createElement)(m.Placeholder,{icon:i,label:(0,o.__)("AI Content Generator","ai-content-engine"),instructions:(0,o.__)("Generate high-quality, SEO-optimized content with AI","ai-content-engine")},(0,c.createElement)("div",{className:"ace-generator-form"},(0,c.createElement)(m.TextControl,{label:(0,o.__)("Topic or Title","ai-content-engine"),value:n,onChange:e=>t({topic:e}),placeholder:(0,o.__)("Enter your article topic...","ai-content-engine"),disabled:f}),(0,c.createElement)(m.TextControl,{label:(0,o.__)("Keywords (comma-separated)","ai-content-engine"),value:a,onChange:e=>t({keywords:e}),placeholder:(0,o.__)("AI, content, WordPress...","ai-content-engine"),disabled:f}),w&&(0,c.createElement)(m.Notice,{status:"error",isDismissible:!1},w),(0,c.createElement)(m.Button,{variant:"primary",onClick:k,disabled:f||!n.trim(),className:"ace-generate-button"},f?(0,c.createElement)(c.Fragment,null,(0,c.createElement)(m.Spinner,null)," ",(0,o.__)("Generating...","ai-content-engine")):(0,o.__)("Generate Content","ai-content-engine"))))))},save:function(){return null}})})();