(()=>{"use strict";var e={20(e,t,n){var a=n(609),r=Symbol.for("react.element"),o=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,n){var a,i={},c=null,d=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)o.call(t,a)&&!s.hasOwnProperty(a)&&(i[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===i[a]&&(i[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:d,props:i,_owner:l.current}}},609(e){e.exports=window.React},848(e,t,n){e.exports=n(20)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);const a=window.wp.blocks,r=window.wp.i18n,o=window.wp.primitives;var l=n(848);const s=(0,l.jsx)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(o.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"})});var i=n(609);const c=window.wp.element,d=window.wp.apiFetch;var p=n.n(d);const u=window.wp.blockEditor,m=window.wp.components,_=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"ace/ai-content-generator","version":"1.0.0","title":"AI Content Generator","category":"text","icon":"brain","description":"Generate AI-powered content directly in your editor","keywords":["ai","content","generate","gpt","openai"],"textdomain":"tonepress-ai","attributes":{"topic":{"type":"string","default":""},"keywords":{"type":"string","default":""},"length":{"type":"string","default":"medium","enum":["short","medium","long"]},"tone":{"type":"string","default":"professional","enum":["professional","conversational","authoritative","friendly","academic"]},"includeTables":{"type":"boolean","default":false},"includeCharts":{"type":"boolean","default":false},"generatedContent":{"type":"string","default":""},"generatedTitle":{"type":"string","default":""},"isGenerating":{"type":"boolean","default":false}},"supports":{"html":false,"anchor":true},"editorScript":"file:./index.js","editorStyle":"file:./editor.css","style":"file:./style.css"}');(0,a.registerBlockType)(_.name,{..._,icon:s,edit:function({attributes:e,setAttributes:t}){const{topic:n,keywords:a,length:o,tone:l,includeTables:d,includeCharts:_,generatedContent:g,generatedTitle:h}=e,[f,v]=(0,c.useState)(!1),[w,y]=(0,c.useState)(null),[b,E]=(0,c.useState)([]),[C,T]=(0,c.useState)(""),S=(0,u.useBlockProps)();(0,c.useEffect)(()=>{p()({path:"/wp-json/ace/v1/templates"}).then(e=>{e.success&&e.templates&&E(e.templates)}).catch(e=>{console.error("Failed to load templates:",e)})},[]);const k=async()=>{if(n.trim()){v(!0),y(null);try{const e=await p()({path:"/ace/v1/generate",method:"POST",data:{topic:n,keywords:a.split(",").map(e=>e.trim()).filter(Boolean),length:o,tone:l,include_tables:d,include_charts:_}});if(!e.success||!e.data)throw new Error(e.message||(0,r.__)("Generation failed","tonepress-ai"));t({generatedContent:e.data.content_html||"",generatedTitle:e.data.title||""})}catch(e){y(e.message||(0,r.__)("An error occurred","tonepress-ai"))}finally{v(!1)}}else y((0,r.__)("Please enter a topic","tonepress-ai"))};return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(u.InspectorControls,null,(0,i.createElement)(m.PanelBody,{title:(0,r.__)("Content Settings","tonepress-ai")},(0,i.createElement)(m.SelectControl,{label:(0,r.__)("Article Length","tonepress-ai"),value:o,options:[{label:(0,r.__)("Short (800-1200 words)","tonepress-ai"),value:"short"},{label:(0,r.__)("Medium (1200-1800 words)","tonepress-ai"),value:"medium"},{label:(0,r.__)("Long (1800-2500+ words)","tonepress-ai"),value:"long"}],onChange:e=>t({length:e})}),(0,i.createElement)(m.SelectControl,{label:(0,r.__)("Writing Tone","tonepress-ai"),value:l,options:[{label:(0,r.__)("Professional","tonepress-ai"),value:"professional"},{label:(0,r.__)("Conversational","tonepress-ai"),value:"conversational"},{label:(0,r.__)("Authoritative","tonepress-ai"),value:"authoritative"},{label:(0,r.__)("Friendly","tonepress-ai"),value:"friendly"},{label:(0,r.__)("Academic","tonepress-ai"),value:"academic"}],onChange:e=>t({tone:e})}),(0,i.createElement)(m.ToggleControl,{label:(0,r.__)("Include Data Tables","tonepress-ai"),checked:d,onChange:e=>t({includeTables:e})}),(0,i.createElement)(m.ToggleControl,{label:(0,r.__)("Include Charts","tonepress-ai"),checked:_,onChange:e=>t({includeCharts:e})}))),(0,i.createElement)("div",{...S},g?(0,i.createElement)("div",{className:"ace-generated-content"},(0,i.createElement)("div",{className:"ace-content-header"},(0,i.createElement)("h3",null,(0,r.__)("Generated Content","tonepress-ai")),(0,i.createElement)("div",{className:"ace-content-actions"},(0,i.createElement)(m.Button,{variant:"secondary",onClick:()=>{t({generatedContent:"",generatedTitle:""}),y(null)},disabled:f},(0,r.__)("Clear","tonepress-ai")),(0,i.createElement)(m.Button,{variant:"primary",onClick:k,disabled:f},(0,r.__)("Regenerate","tonepress-ai")))),h&&(0,i.createElement)("div",{className:"ace-generated-title"},(0,i.createElement)("strong",null,(0,r.__)("Suggested Title:","tonepress-ai"))," ",h),(0,i.createElement)("div",{className:"ace-content-preview",dangerouslySetInnerHTML:{__html:g}}),(0,i.createElement)(m.Notice,{status:"info",isDismissible:!1},(0,r.__)("This content will be inserted when you save the block. You can edit it further in the editor.","tonepress-ai"))):(0,i.createElement)(m.Placeholder,{icon:s,label:(0,r.__)("AI Content Generator","tonepress-ai"),instructions:(0,r.__)("Generate high-quality, SEO-optimized content with AI","tonepress-ai")},(0,i.createElement)("div",{className:"ace-generator-form"},(0,i.createElement)(m.TextControl,{label:(0,r.__)("Topic or Title","tonepress-ai"),value:n,onChange:e=>t({topic:e}),placeholder:(0,r.__)("Enter your article topic...","tonepress-ai"),disabled:f}),(0,i.createElement)(m.TextControl,{label:(0,r.__)("Keywords (comma-separated)","tonepress-ai"),value:a,onChange:e=>t({keywords:e}),placeholder:(0,r.__)("AI, content, WordPress...","tonepress-ai"),disabled:f}),w&&(0,i.createElement)(m.Notice,{status:"error",isDismissible:!1},w),(0,i.createElement)(m.Button,{variant:"primary",onClick:k,disabled:f||!n.trim(),className:"ace-generate-button"},f?(0,i.createElement)(i.Fragment,null,(0,i.createElement)(m.Spinner,null)," ",(0,r.__)("Generating...","tonepress-ai")):(0,r.__)("Generate Content","tonepress-ai"))))))},save:function(){return null}})})();